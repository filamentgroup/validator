/*! validator - v0.1.0 - 2014-04-10
* https://github.com/filamentgroup/validator
* Copyright (c) 2014 Filament Group; Licensed MIT */
!function(a,b){"use strict";var c=function(b,c){if(!b)throw new Error("Element passed into Validator is not valid");c=c||{},c.validatorClass=c.validatorClass||"invalid",c.$applyElement=a(c.applyElement&&c.applyElement.length?c.applyElement:b),this.opts=c,this.element=b,this.$element=a(b),this.type=this.$element.attr("data-validate"),this.required=this.$element.is("[required]")};c.prototype.config={},c.prototype.copy={},c.prototype.validate=function(){var a,b=this.getValue(),c=this._isValid(b);return this.opts.$applyElement[c?"removeClass":"addClass"]("invalid"),a=this.getErrorMessageElement(),c?a.remove():a.html(this.getErrorMessage(b)),c},c.prototype.getValue=function(){var b,c=this.$element.attr("type"),d=0;return"radio"===c||"checkbox"===c?(b=this.$element.attr("name"),a('[name="'+b+'"]').each(function(){this.checked&&d++}),d):this.element.value},c.prototype._isValid=function(a){var b=!1,c=this["validate"+this.type];return a?this.type?this.type&&c&&(b=c.call(this,a)):b=!0:b=!this.required,b},c.prototype.getErrorMessageElement=function(){var b=this.opts.$applyElement,c=b.prev(".error-msg");return c.length?c:a("<div>").addClass("error-msg").insertBefore(b)},c.prototype.getErrorMessage=function(a){var b=a&&this.type||(this.required?"required":"");return this["message"+this.type]?this["message"+this.type](a):this.copy[b].message},b.Validator=c}(jQuery,this),function(a,b){b.extend(a.prototype.config,{birthday:{pattern:"^(0[1-9]|1[0-2])[ -\\/]?(0[1-9]|[12][0-9])|(0[469]|11)[ -\\/]?(0[1-9]|[12][0-9]|30)|(0[13578]|1[02])[ -\\/]?(0[1-9]|[12][0-9]|3[01])$"}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{birthday:{placeholder:"MM DD",message:"Birthday should be a two digit month and two digit day."}})}(Validator,jQuery),function(a){a.prototype.validatebirthday=function(a){var b=!1;return new RegExp(this.config.birthday.pattern).test(a)&&(b=a),b}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.config,{ccexpiration:{pattern:"^[0-9]{4}[ -\\/\\.]?[0-9]{2}$"}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{ccexpiration:{placeholder:"YYYY MM"}})}(Validator,jQuery),function(a){a.prototype.validateccexpiration=function(a){var b=!1;return new RegExp(this.config.ccexpiration.pattern).test(a)&&(b=!0),b}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.config,{credit:[{id:"mastercard",regex:"^5[1-5]",fullRegex:"^5[1-5]\\d{14}$",maxlength:"16",cvvlength:3},{id:"visa",regex:"^4",fullRegex:"^4\\d{15}$",maxlength:"16",cvvlength:3},{id:"discover",regex:"^6(011|5)",fullRegex:"^6(011\\d{12}|5\\d{14})$",maxlength:"16",cvvlength:3},{id:"amex",regex:"^3[47]",fullRegex:"^3[47]\\d{13}$",maxlength:"15",cvvlength:4}]})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{credit:{placeholder:"0000 0000 0000 0000",message:"Not a valid credit card number.",visa:{message:"Visa cards should have 16 digits."},mastercard:{message:"Mastercards should have 16 digits."},discover:{message:"Discover cards should have 16 digits."},amex:{message:"American Express cards should have 15 digits."}},ccexpiration:{placeholder:"YYYY MM"},cvv:{message:"Security Codes require a valid card credit card number.",placeholder:"3â€“4 Digits",visa:{placeholder:"3 Digits",message:"Visa cards should have a 3 digit security code."},mastercard:{placeholder:"3 Digits",message:"Mastercards should have a 3 digit security code."},discover:{placeholder:"3 Digits",message:"Discover cards should have a 3 digit security code."},amex:{placeholder:"4 Digits",message:"American Express cards should have a 4 digit security code."}}})}(Validator,jQuery),function(a){a.prototype._getCreditType=function(a){for(var b,c=this.config.credit,d=0;d<c.length;d++)if(b=c[d],new RegExp(b.regex).test(a))return b},a.prototype._findCreditField=function(){return this.$element.closest("form").find("[data-validate=credit]")},a.prototype._findCvvField=function(){return this.$element.closest("form").find("[data-validate=cvv]")},a.prototype.validatecvv=function(a){if(!(isNaN(parseInt(a,10))||parseInt(a,10)<0)){var b=this._findCreditField(),c=!1,d=this._getCreditType(b[0].value);return d&&d.id&&(c=a.toString().length===parseInt(d.cvvlength,10)),c}},a.prototype.messagecvv=function(){var a=this._findCreditField(),b=this._getCreditType(a[0].value);return b&&this.copy.cvv[b.id].message||this.copy.cvv.message},a.prototype.validatecredit=function(a){var b=a.replace(/\s/g,"").replace(/-/g,""),c=this._getCreditType(b),d=c&&this.copy.cvv;return c&&d&&this._findCvvField().attr("placeholder",d[c.id].placeholder),c&&new RegExp(c.fullRegex).test(b)||!1},a.prototype.messagecredit=function(a){var b=this._getCreditType(a);return b&&this.copy.credit[b.id].message||this.copy.credit.message}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.config,{email:{pattern:"^\\S+@\\S+\\.\\S+$"}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{email:{message:"Incorrect e-mail format."}})}(Validator,jQuery),function(a){a.prototype.validateemail=function(a){var b=!1;return new RegExp(this.config.email.pattern).test(a)&&(b=a),b}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.config,{numeric:{pattern:"[0-9]+"}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{numeric:{message:"Needs to be a number."}})}(Validator,jQuery),function(a){a.prototype.validatenumeric=function(a){var b=!1;return new RegExp(this.config.numeric.pattern).test(a)&&(b=!0),b}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.copy,{password:{message:"Passwords must contain at least 6 characters with an uppercase letter, a lowercase letter, and a number."}})}(Validator,jQuery),function(a){a.prototype.validatepassword=function(a){var b=!1,c=function(a){return"string"==typeof a&&a.length>5&&a.length<16?!0:void 0},d=function(a){return"string"==typeof a&&a.match(/\d/)?!0:void 0},e=function(a){return"string"==typeof a&&a.match(/[a-z]/)?!0:void 0},f=function(a){return"string"==typeof a&&a.match(/[A-Z]/)?!0:void 0};return c(a)&&f(a)&&e(a)&&d(a)&&(b=a),b}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.copy,{passwordconfirm:{message:"Passwords must match."}})}(Validator,jQuery),function(a){a.prototype.validatepasswordconfirm=function(a){var b,c=this.$element.closest("form").find("[data-validate=password]"),d=!1;return c.length&&(b=c[0].value,b===a&&(d=a)),d}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.config,{phone:{pattern:"^[\\(]?[0-9]{3}[\\)]?[ -]?[0-9]{3}[ -]?[0-9]{4}$"}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{phone:{placeholder:"206 555 0123",message:"Phone numbers should have 10 digits."}})}(Validator,jQuery),function(a){a.prototype.validatephone=function(a){var b=!1;return new RegExp(this.config.phone.pattern).test(a)&&(b=a),b}}(Validator,jQuery,this),function(a,b){b.extend(a.prototype.copy,{required:{message:"This is required."}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.config,{zip:{pattern:"^\\d{5}(-\\d{4})?$"}})}(Validator,jQuery),function(a,b){b.extend(a.prototype.copy,{zip:{placeholder:"00000",message:"ZIP Code should be 5 digits."}})}(Validator,jQuery),function(a){a.prototype.validatezip=function(a){var b=!1;return new RegExp(this.config.zip.pattern).test(a)&&(b=a),b}}(Validator,jQuery,this),function(a){var b="validator",c=b,d="error.validator",e="[required],[data-validate]";a.fn[b]=function(){return this.each(function(){var b=a(this);if(!b.data(c)){var e=new Validator(this,{applyElement:b.closest("label")});b.data(c,e),b.bind("blur",function(){e.validate()}),b.closest("form").bind("submit",function(b){e.validate()||(b.isDefaultPrevented()||a(this).trigger(d),b.preventDefault())})}})},a(document).bind("enhance",function(c){a(e,c.target)[b]()})}(jQuery,this);